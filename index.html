<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Faceit Elo Viewer</title>
</head>
<body>
<h1>Faceit Elo Viewer</h1>
<!-- Hier wird die Elo angezeigt -->
<div id="elo-display">Lade Elo...</div>

<script>
    // Konfiguriere deinen Faceit-Nickname und API-Key
    const nickname = "YourNickname"; // Ersetze "YourNickname" durch den tatsächlichen Namen
    const apiKey = "YOUR_API_KEY";   // Achtung: Für Production solltest du den API-Key nicht direkt im Client-Code speichern!

    // URL für den API-Aufruf – laut Dokumentation wird der Schlüssel "csgo" weiterhin verwendet.
    const url = `https://open.faceit.com/data/v4/players?nickname=${nickname}&game=csgo`;

    fetch(url, {
        headers: {
            "Authorization": `Bearer ${apiKey}`
        }
    })
        .then(response => {
            if (!response.ok) {
                throw new Error("Fehler beim Laden der Daten: " + response.status);
            }
            return response.json();
        })
        .then(data => {
            console.log("API-Daten:", data); // Zum Debuggen: Zeigt die komplette JSON-Antwort in der Konsole an.

            // Prüfe, ob der Wert vorhanden ist
            if(data.games && data.games.csgo && typeof data.games.csgo.faceit_elo !== 'undefined') {
                document.getElementById("elo-display").innerText = "Elo: " + data.games.csgo.faceit_elo;
            } else {
                document.getElementById("elo-display").innerText = "Elo nicht verfügbar";
            }
        })
        .catch(error => {
            console.error("Fehler:", error);
            document.getElementById("elo-display").innerText = "Fehler beim Abrufen der Elo.";
        });
</script>
</body>
</html>
